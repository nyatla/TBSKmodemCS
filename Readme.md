# TBSK modem for C#


English documente ğŸ‘‰[Readme.en.md](Readme.en.md)


C#ã§å®Ÿè£…ã—ãŸTBSKmodemã§ã™ã€‚
ğŸ“[TBSKmodem](https://github.com/nyatla/TBSKmodem)


TBSK (Trait Block Shift Keying) modemã¯ã€FFT/IFTTã‚’ä½¿ã‚ãªã„ã€ä½é€Ÿã€çŸ­è·é›¢ã®éŸ³éŸ¿é€šä¿¡ã®å®Ÿè£…ã§ã™ã€‚
ãƒã‚¤ãƒˆ/ãƒ“ãƒƒãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ ã®æŒ¯å¹…ä¿¡å·ã¸ã®å¤‰èª¿ã€æŒ¯å¹…ä¿¡å·ã‹ã‚‰ãƒã‚¤ãƒˆ/ãƒ“ãƒƒãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ ã¸ã®å¾©èª¿ãŒã§ãã¾ã™ã€‚


![preview_tbsk](https://user-images.githubusercontent.com/2483108/194768184-cecddff0-1fa4-4df8-af3f-f16ed4ef1718.gif)


[Youtube](https://www.youtube.com/watch?v=4cB3hWATDUQ)ã§ã¿ã‚‹ï¼ˆä¿¡å·éŸ³ä»˜ãã§ã™ã€‚ï¼‰

â€»Pythonç‰ˆã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼


## æ€§èƒ½

é™ã‹ãªå®¤å†…ã§ã®éŸ³éŸ¿é€šä¿¡æ€§èƒ½ã¯ã€ãƒ“ãƒƒãƒˆãƒ¬ãƒ¼ãƒˆãŒ5bpsï½1kbpsã€é€šä¿¡è·é›¢ã¯1mãã‚‰ã„ã§ã™ã€‚
ãƒ‘ã‚½ã‚³ãƒ³ã«å‚™ã‚ã‚‹ãƒã‚¤ã‚¯ã¨ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã§é€šä¿¡ãŒã§ãã¾ã™ã€‚


## ä»•æ§˜

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å€¤ |
| --- | --- |
| å¤‰èª¿æ–¹å¼ | ç‰¹å¾´ãƒ–ãƒ­ãƒƒã‚¯å·®å‹•å¤‰èª¿ |
| ãƒ“ãƒƒãƒˆãƒ¬ãƒ¼ãƒˆ | 5ï½1kbps |
| æ¬é€æ³¢å‘¨æ³¢æ•° | ä»»æ„ |
| å¸¯åŸŸå¹… | 5Hzï½å…¨å¸¯åŸŸ |
| ã‚¨ãƒ©ãƒ¼è¨‚æ­£/æ¤œå‡º | ãªã— |


### ç‰¹å¾´ãƒ–ãƒ­ãƒƒã‚¯å·®å‹•å¤‰èª¿

TBSKã®ç‰¹å¾´ãƒ–ãƒ­ãƒƒã‚¯å·®å‹•å¤‰èª¿ã¯ã€æ³¢å½¢ã‚·ãƒ³ãƒœãƒ«ã®ä»£ã‚ã‚Šã«ä»»æ„å½¢çŠ¶ã®ãƒˆãƒ¼ãƒ³ä¿¡å·ã¨ãã®åè»¢å€¤ã‚’ã€2å€¤ã®ä¼é€ã‚·ãƒ³ãƒœãƒ«ã¨ã—ã¦ä½¿ã„ã¾ã™ã€‚
ãƒˆãƒ¼ãƒ³ä¿¡å·ã¯ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ æ‹¡æ•£ã—ãŸSinæ³¢ã‚’ä½¿ã„ã¾ã™ãŒã€ä»–ã«ã‚‚ä»»æ„å½¢çŠ¶ã®æ³¢å½¢ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
å¾©èª¿ã¯ã€éš£æ¥ã™ã‚‹ã‚·ãƒ³ãƒœãƒ«ã®ç›¸é–¢å€¤ã‚’é…å»¶æ¤œæ³¢ã—ã¾ã™ã€‚ç›¸é–¢å€¤ã¯1,-1ã‚’å–ã‚‹ã®ã§ã€ã“ã‚Œã‚’ãƒ“ãƒƒãƒˆã«å¾©èª¿ã—ã¾ã™ã€‚

ã“ã®ä¼é€æ–¹å¼ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€ãƒˆãƒ¼ãƒ³ä¿¡å·é•·(Tickæ•°Ã—æ¬é€æ³¢å‘¨æ³¢æ•°)ã®ã¿ã§ã™ã€‚ãƒˆãƒ¼ãƒ³ä¿¡å·é•·ã ã‘é©åˆã—ã¦ã„ã‚Œã°ã€åŒä¸€ãªå¾©èª¿å™¨ã§ä¿¡å·ã®å½¢å¼ã«ã‚ˆã‚‰ãšå¾©èª¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ä¿¡å·åŒæœŸ

ä¿¡å·ã®æ¤œå‡ºã¯ç›¸é–¢å€¤ã‚’ä¸€å®šæ™‚é–“è¦³æ¸¬ã—ã¦åˆ¤å®šã—ã¾ã™ã€‚ä¿¡å·ã®å…ˆç«¯ã«ã¯é€šå¸¸ã®ã‚·ãƒ³ãƒœãƒ«ã‚ˆã‚Šã‚‚é•·ã„åŒæœŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é…ç½®ã—ã¾ã™ã€‚
åˆæœŸã®åŒæœŸã‚·ãƒ³ãƒœãƒ«æ¤œçŸ¥ã®ã»ã‹ã€åŒæœŸãšã‚Œã‚’è£œæ­£ã™ã‚‹ãŸã‚ã«ã‚·ãƒ³ãƒœãƒ«åè»¢æ™‚ã®ç›¸é–¢ãƒ”ãƒ¼ã‚¯ã‚’æ¤œå‡ºã—ã¾ã™ã€‚
æ¬é€æ³¢ã®å®‰å®šã—ãªã„ã‚·ã‚¹ãƒ†ãƒ ã§ã‚·ãƒ³ãƒœãƒ«1ã®ä¿¡å·ã‚’é•·æ™‚é–“ã‚’é€ã‚‹ã¨ã€åŒæœŸãŒå–ã‚Œãšã«ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒä¸­æ–­ã—ã¾ã™ã€‚
é•·æ™‚é–“ã®é€šä¿¡ã§ã¯ã€æ•°åç§’ã«ä¸€åº¦ã¯0ã®ã‚·ãƒ³ãƒœãƒ«ã‚’é€£ç¶šã—ã¦é€ä¿¡ã•ã‚Œã‚‹ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’åŠ å·¥ã—ã¦ãã ã•ã„ã€‚

### ãƒˆãƒ¼ãƒ³ä¿¡å·

æ¨™æº–ã®ãƒˆãƒ¼ãƒ³ä¿¡å·ã¯ã€Sinæ³¢ã‚’PNç¬¦å·ã§ä½ç›¸ã‚·ãƒ•ãƒˆã—ãŸã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ æ‹¡æ•£æ³¢å½¢ã§ã™ã€‚
ãƒˆãƒ¼ãƒ³ä¿¡å·ã¯å¾©èª¿å´ã§S/Næ¯”ãŒé«˜ããªã‚‹å½¢çŠ¶ã§ã‚ã‚Œã°ä½•ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚ãƒˆãƒ¼ãƒ³ä¿¡å·ã«ã‚µã‚¤ãƒ³æ³¢ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€DPSKå¤‰èª¿ã¨åŒã˜å‹•ä½œã‚’ã—ã¾ã™ã€‚

### å¤–ä¹±è€æ€§

ãƒˆãƒ¼ãƒ³ä¿¡å·ãŒé•·ã„ã»ã©å¤–ä¹±è€æ€§ã¯å¼·ããªã‚Šã¾ã™ãŒã€ãƒˆãƒ¼ãƒ³ä¿¡å·ãŒé•·ããªã‚‹ã»ã©ãƒ“ãƒƒãƒˆãƒ¬ãƒ¼ãƒˆã¯ä½ä¸‹ã—ã¾ã™ã€‚
æ¬é€æ³¢å‘¨æ³¢æ•°ã«å¯¾ã™ã‚‹æœ€å¤§é€šä¿¡ãƒ¬ãƒ¼ãƒˆã®ç†è«–å€¤ã¯1bit/Hzã§ã™ã€‚å®Ÿéš›ã«ã¯0.01bit/HzãŒç›®å®‰ã¨ãªã‚Šã¾ã™ã€‚

ãƒˆãƒ¼ãƒ³ä¿¡å·ã¯ã€ç·šè·¯åª’ä½“ã®ç‰¹æ€§ã«åˆã‚ã›ã¦ã€æ™‚é–“æ–¹å‘ã€å‘¨æ³¢æ•°æ–¹å‘ã«æ‹¡æ•£ï¼ˆå¸¯åŸŸã®ç„¡é§„é£ã„ï¼‰ãŒã§ãã¾ã™ã€‚


### ãƒ‘ã‚±ãƒƒãƒˆä»•æ§˜
ç¾çŠ¶ã®ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¯ã€é–‹å§‹ç‚¹æ¤œå‡ºã¨ãã‚Œã«ç¶šããƒšã‚¤ãƒ­ãƒ¼ãƒ‰èª­å‡ºã—ã®ã¿ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚ãƒ‘ã‚±ãƒƒãƒˆã‚µã‚¤ã‚ºã‚„çµ‚ç«¯è­˜åˆ¥å­ã€ã‚¨ãƒ©ãƒ¼è¨‚æ­£ã€æ¤œå‡ºã«ã¤ã„ã¦ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

æœ¬ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯ã€MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã—ã¾ã™ã€‚ãƒ›ãƒ“ãƒ¼ãƒ»ç ”ç©¶ç”¨é€”ã§ã¯ã€MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«å¾“ã£ã¦é©åˆ‡ã«é‹ç”¨ã—ã¦ãã ã•ã„ã€‚
ç”£æ¥­ç”¨é€”ã§ã¯ã€ç‰¹è¨±ã®å–ã‚Šæ‰±ã„ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§ã™ãŒã€ç‰¹è¨±ãƒ•ãƒªãƒ¼ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

## GetStarted

VisualStadioã§ä½œæˆã—ãŸSolutionãŒã‚ã‚Šã¾ã™ã€‚

### ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
ã‚µãƒ³ãƒ—ãƒ«ã‚’å«ã‚ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã€githubã‹ã‚‰cloneã—ã¾ã™ã€‚

```
>git clone https://github.com/nyatla/TBSKmodemCS.git
```


### ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å ´æ‰€

Pythonç‰ˆã¨åŒç­‰ãªGetstartedãŒã‚ã‚Šã¾ã™ã€‚TBSKmodem.slnã®getstartedãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’æ¢ç´¢ã—ã¦ãã ã•ã„ã€‚


ã‚µãƒ³ãƒ—ãƒ«ã®èª¬æ˜ã¯pythonç‰ˆã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚
[TBSKmodem#ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å ´æ‰€](https://github.com/nyatla/TBSKmodem#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E3%81%AE%E5%A0%B4%E6%89%80)


1. step1_modulate ãƒ‡ãƒ¼ã‚¿ã‚’waveãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›ã€‚
2. step2_demodulate wavãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å¾©èª¿ã€‚
3. step3_bytedata ãƒã‚¤ãƒˆãƒ‡ãƒ¼ã‚¿ã®å¤‰èª¿ã¨å¾©èª¿
4. step4_text æ–‡å­—åˆ—ã®å¤‰èª¿ã¨å¾©èª¿
5. step5_microphone ãƒã‚¤ã‚¯å…¥åŠ›ã®ãƒ†ã‚¹ãƒˆ
6. step6_realtime_receive ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€å—ä¿¡

